---
import BaseLayout from "@components/base/BaseLayout.astro";
import { markdownify } from "@lib/textConverter";
import Button from "@components/common/Button.astro";
import type { HomeEntry } from "@/types";
import { Image } from "astro:assets";

interface Props {
  entry: HomeEntry;
}

const { entry } = Astro.props;
const { image, imageDark, imageAlt, title, content, button} = entry.data;
---

<BaseLayout>
  <!-- Banner -->
  <section class="section">
    <div class="container">
      <div class="row justify-center">
        <!-- Wrap images in container with custom gap -->
        <div class="flex flex-col items-center">
          
          <!-- First Image with Theme Switching -->
          {(image || imageDark) && (
            <div class="theme-image-wrapper">
              {image && (
                <Image
                  class="custom-image-size light-mode-image select-none"
                  src={image}
                  alt={imageAlt}
                  width={1024}
                  height={1024}
                  loading="eager"
                />
              )}
              {imageDark && (
                <Image
                  class="custom-image-size dark-mode-image select-none"
                  src={imageDark}
                  alt={imageAlt}
                  width={1024}
                  height={1024}
                  loading="eager"
                />
              )}
            </div>
          )}
        </div>
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  .custom-image-size {
    width: 800px;
    height: 800px;
    align-self: center;
  }
  
  .theme-image-wrapper {
    position: relative;
    width: 800px;
    height: 800px;
  }
  
  .light-mode-image,
  .dark-mode-image {
    position: absolute;
    top: 0;
    left: 0;
    transition: opacity 0.3s ease-in-out;
  }
  
  /* Light mode: show light images, hide dark images */
  .light-mode-image {
    opacity: 1;
  }
  
  .dark-mode-image {
    opacity: 0;
  }
  
  /* Dark mode: hide light images, show dark images */
  html.dark .light-mode-image {
    opacity: 0;
  }
  
  html.dark .dark-mode-image {
    opacity: 1;
  }
</style>